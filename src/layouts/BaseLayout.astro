---
import Header from "../components/Header.astro";
import { SEO } from 'astro-seo';
import '../styles/global.css';
import Footer from "../components/Footer.astro";

import defaultImageFile from '../assets/firstpostimage.jpg';

const { title, description = '', ogType = 'website', ogTitle = title } = Astro.props;

const siteBaseURL = new URL(Astro.url);
const defaultImage = new URL(defaultImageFile.src, siteBaseURL);

let {image: _image} = Astro.props;
_image = _image || defaultImage;

let image = null;
if (typeof _image === 'string') {
    image = new URL(_image, siteBaseURL);
} else if (_image && typeof _image['href'] !== 'undefined') {
    image = new URL(_image['href'], siteBaseURL);
} else {
	image = defaultImage;
}
---

<html lang="en">
    <head>
      <SEO 
        title={title || 'GwenaÃ«l Magnenat - Web Developer'}
        description={description}
        openGraph={{
          basic: {
            title: `${ogTitle}`,
            type: `${ogType? ogType : 'website'}`,
            image: `${image}`
          }
        }}
        twitter={{
          creator: "@magnenatg"
        }}
        extend={{
          // extending the default link tags
          link: [{ rel: "icon", href: "/favicon.ico" }],
          // extending the default meta tags
          meta: [
            {
              name: "twitter:image",
              content: "https://user-images.githubusercontent.com/5182256/131216951-8f74f425-f775-463d-a11b-0e01ad9fce8d.png",
            },
            { name: "twitter:title", content: `${title}`},
            { name: "twitter:description", content: "Agent" },
          ],
        }}
      />
        <meta charset="utf-8" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />        
        <meta name="viewport" content="width=device-width" />
        <meta name="generator" content={Astro.generator} />
    </head>
    <body class="min-h-screen h-full flex flex-col bg-gray-950 text-white">
        <Header />
        <main class="flex flex-col flex-grow px-8">
          <slot />
        </main>
        <Footer />
        <script>
          import "../scripts/menu.js";
        </script>
    </body>
</html>