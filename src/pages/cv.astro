---
import { getCollection } from "astro:content";
import JobCard from "../components/JobCard.astro";
import BaseLayout from "../layouts/BaseLayout.astro";
const pageTitle = 'CV';

const publishedJobs = await getCollection('jobs', ({ data }) => {
    return data.draft !== true;
});

---

<BaseLayout title={pageTitle}>
	<div class="flex flex-col gap-8 flex-grow">
		<h1 class="text-6xl uppercase mt-10">{pageTitle}</h1>
	</div>
	<div class="mt-8 max-w-2xl flex flex-col gap-8">
    <h2 class="text-4xl uppercase">work experience</h2>
		{
			publishedJobs.map((job) => {
				return <JobCard job={job} />
			})
		}

	</div>
</BaseLayout>